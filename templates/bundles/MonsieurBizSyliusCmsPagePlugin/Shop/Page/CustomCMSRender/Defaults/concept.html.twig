{% set iconLibUrl = asset('build/shop/images/icon-lib.svg', 'shop') %}
{% set conceptContent = page.content|format_cms_content_to_array %}

<div class="cms__container">
    <div class="cms-header">
        <div class="cms-header__container container">
            <div class="flush-row">
                {#Title + Text#}
                <div class="cms-header__left @lg:flush-column-5">
                    <div class="cms-header__toptitle t-header-xsmall u-margin-b-2">
                        {{ 'app.cms_page.concept.top_title' | trans }}
                    </div>
                    {#Title#}
                    {{ conceptContent | get_concept_ui_element(constant('App\\Provider\\CMS\\PagesSkeleton\\PagesSkeletonProvider::CONCEPT_MAIN_TITLE')) | monsieurbiz_richeditor_render_element }}
                    {#Text#}
                    {{ conceptContent | get_concept_ui_element(constant('App\\Provider\\CMS\\PagesSkeleton\\PagesSkeletonProvider::CONCEPT_MAIN_DESC')) | monsieurbiz_richeditor_render_element }}
                </div>
                {#Image#}
                <div class="cms-header__right @lg:flush-column-7">
                    <div class="cms-header__img concept_schema">
                        {{ conceptContent | get_concept_ui_element(constant('App\\Provider\\CMS\\PagesSkeleton\\PagesSkeletonProvider::CONCEPT_SCHEMA_IMAGE')) | monsieurbiz_richeditor_render_element }}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="cms__content">

        <div class="u-fullwidth bg-vert-pastel u-padding-t-11 u-padding-b-11">
            <div class="container">
                <div class="cms-steps u-cross-centered-col">
                    <div class="cms-steps__title t-align-center">
                        {{ conceptContent | get_concept_ui_element(constant('App\\Provider\\CMS\\PagesSkeleton\\PagesSkeletonProvider::CONCEPT_STEPS_MAIN_TITLE')) | monsieurbiz_richeditor_render_element }}
                    </div>
                    <div class="cms-steps__items u-margin-t-5 @lg:u-margin-t-9">
                        {{ conceptContent | get_concept_ui_element(constant('App\\Provider\\CMS\\PagesSkeleton\\PagesSkeletonProvider::CONCEPT_STEPS_IMAGES')) | monsieurbiz_richeditor_render_element }}
                    </div>
                </div>
            </div>
        </div>
        <div class="u-fullwidth bg-bleu-nuit u-padding-t-11 u-padding-b-11">
            <div class="container">
                <div class="cms-sheets u-cross-centered-col bg-bleu-nuit u-margin-t-0">
                    <div class="cms-sheets__right @lg:flush-column-10">
                        {{ conceptContent | get_concept_ui_element(constant('App\\Provider\\CMS\\PagesSkeleton\\PagesSkeletonProvider::CONCEPT_TUTORIAL_VIDEO')) | monsieurbiz_richeditor_render_element }}
                    </div>
                    <div class="cms-sheets__container flush-row bg-bleu-nuit u-padding-t-5 u-padding-b-1">
                        <div class="cms-sheets__left t-align-center c-true-white u-padding-t-1">
                            {{ conceptContent | get_concept_ui_element(constant('App\\Provider\\CMS\\PagesSkeleton\\PagesSkeletonProvider::CONCEPT_TUTORIAL_TITLE')) | monsieurbiz_richeditor_render_element }}
                            {{ conceptContent | get_concept_ui_element(constant('App\\Provider\\CMS\\PagesSkeleton\\PagesSkeletonProvider::CONCEPT_TUTORIAL_DESC')) | monsieurbiz_richeditor_render_element }}
                            <div class="cms-sheets__btn u-margin-t-3">
                                {{ conceptContent | get_concept_ui_element(constant('App\\Provider\\CMS\\PagesSkeleton\\PagesSkeletonProvider::CONCEPT_TUTORIAL_DISCOVER_ARTICLE_LINK')) | monsieurbiz_richeditor_render_element }}
                            </div>
                            <div class="cms-sheets__btn">
                                {{ conceptContent | get_concept_ui_element(constant('App\\Provider\\CMS\\PagesSkeleton\\PagesSkeletonProvider::CONCEPT_TUTORIAL_CHECK_FAQ')) | monsieurbiz_richeditor_render_element }}
                            </div>

                        </div>

                    </div>
                </div>

            </div>
        </div>
    </div>

    <div class="homepage-slider u-cross-centered-col u-padding-b-10">
        <div class="cms-slider__header container">
            <div class="row align-items-center u-fullwidth cross-content-title">
                <div class="column-12 @lg:column-11">
                    {{ conceptContent | get_concept_ui_element(constant('App\\Provider\\CMS\\PagesSkeleton\\PagesSkeletonProvider::CONCEPT_OTHER_PAGES_TITLE')) | monsieurbiz_richeditor_render_element }}
                </div>
                <div class="column-1 u-hidden @lg:u-block">
                    <svg class="cms-slider__arrow cms-slider__arrow--right o-icon-78 cms-slider__arrow--right-new">
                        <use xlink:href="{{ iconLibUrl }}#SVG-arrow-right-fill--white-new"/>
                    </svg>
                </div>
            </div>
        </div>
        <div class="cms-slider__container swiper-container">
            <div class="swiper-wrapper">
                {{ conceptContent | get_concept_ui_element(constant('App\\Provider\\CMS\\PagesSkeleton\\PagesSkeletonProvider::CONCEPT_OTHER_PAGES')) | monsieurbiz_richeditor_render_element }}
            </div>
        </div>
        <!--div class="cms-cta">
            {{ conceptContent | get_concept_ui_element(constant('App\\Provider\\CMS\\PagesSkeleton\\PagesSkeletonProvider::CONCEPT_OTHER_PAGES_DISCOVER_BUTTON')) | monsieurbiz_richeditor_render_element }}
        </div-->
    </div>

    <div class="u-hidden"> <!-- TODO : remove after test -->
        {% set moazaicTitle = (conceptContent | get_concept_ui_element(constant('App\\Provider\\CMS\\PagesSkeleton\\PagesSkeletonProvider::CONCEPT_INSPIRATION_TITLE'))).data %}
        {% set mozaicImages = (conceptContent | get_concept_ui_element(constant('App\\Provider\\CMS\\PagesSkeleton\\PagesSkeletonProvider::CONCEPT_INSPIRATION_MOSAIC_IMAGES'))).data %}

        {% include'@MonsieurBizSyliusRichEditorPlugin/Shop/UiElement/ImageCollection/mozaic_image_collection.html.twig' with {
            mozaicMainTitle: moazaicTitle.content is defined ? moazaicTitle.content : null,
            mozaicImagesCollection: mozaicImages.images is defined ? mozaicImages.images : null
        } only %}
    </div>

</div>
